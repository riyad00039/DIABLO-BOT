import fetch from "node-fetch";

let handler = async (m, { conn, text }) => {
  if (!text) {
    return m.reply(`*โญโโโโโโโโโโโโโโโโโโโ*
*โโ๐ฅ ูุงุฐุง ุชูุชุธุฑุ ุงูุชุจ ุดูุฆูุง ุจุนุฏ ุงูุฃูุฑ โ*
*โโูุซุงู: .ุงุณุชุง ูู ุฃุณุชุณูู ุฃุจุฏุงู! โ*
*โฐโโโโโโโโโโโโโโโโโโโ*`);
  }

  await m.reply(`*โญโโโโโโโโโโโโโโโโโโโ*
*โโ... ๐ฅ ุตูุช ุงุณุชุง ุงููููุก ุจุงูุทุงูุฉ ููุชุฑุจ โ*
*โฐโโโโโโโโโโโโโโโโโโโ*`);

  try {
    let result = await AstaAI(text);
    await m.reply(`*โญโโโโโโโโโโโโโโโโโโโ*
*โโ๐ฅ ุฑุฏ ุงุณุชุง โ*
${result}
*โฐโโโโโโโโโโโโโโโโโโโ*`);
  } catch (e) {
    await m.reply(`*โญโโโโโโโโโโโโโโโโโโโ*
*โโโก ุญุชู ุงุณุชุง ูุญุชุงุฌ ูุณุชุฌูุน ุทุงูุชู ุงูุขู โ*
*โฐโโโโโโโโโโโโโโโโโโโ*`);
  }
};

handler.help = ["ุงุณุชุง"];
handler.tags = ["ai"];
handler.command = /^(ุงุณุชุง)$/i;

export default handler;

async function AstaAI(your_qus) {
  let Baseurl = "https://alakreb.vercel.app/api/ai/gpt?q=";

  // ุชูุฌูู ุงูู API ููุฑุฏ ุจุฃุณููุจ ุฃุณุชุง ุงููููุก ุจุงูุญูุงุณ
  let prompt = `ุฃูุช ุงุณุชุง ูู ุฃููู ุจูุงู ููููุฑ.
ุชุญุฏุซ ุจุทุฑููุชู ุงููุนุชุงุฏุฉ: ูููุก ุจุงูุญูุงุณุ ูุง ุชุนุฑู ุงูุงุณุชุณูุงูุ ุชุตุฑุฎ ุจุญูููุฉุ ูุชุดุฌุน ุงูุขุฎุฑูู ุฏุงุฆููุง.
ุงุณุชุฎุฏู ุงููุซูุฑ ูู ุงูุทุงูุฉ ูุงูุญูุงุณุ ูุงุธูุฑ ุฃูู ูุง ุชูุฃุณ ุฃุจุฏูุง.
ุณุคุงูู ูู: ${your_qus}`;

  let response = await fetch(Baseurl + encodeURIComponent(prompt));
  let data = await response.json();
  return data.message;
}