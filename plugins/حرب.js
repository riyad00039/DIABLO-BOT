const handler = async (m, {conn, usedPrefix}) => {
    // ** Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© **
    function pickRandom(list) {
        return list[Math.floor(Math.random() * list.length)];
    }
    
    function msToTime(duration) {
        let seconds = Math.floor((duration / 1000) % 60);
        let minutes = Math.floor((duration / (1000 * 60)) % 60);
        seconds = seconds < 10 ? '0' + seconds : seconds;
        minutes = minutes < 10 ? '0' + minutes : minutes;
        return minutes + ' Ø¯Ù‚ÙŠÙ‚Ù‡ ' + seconds + ' Ø«Ø§Ù†ÙŠÙ‡';
    }

    // ** Ø§Ù„Ù…ØµÙÙˆÙØ© **
    const PalestineAchievements = [
        'Ø§Ù†Øª Ù…Ø­Ø§Ø±Ø¨ Ø´Ø¬Ø§Ø¹ Ù„Ù‚Ø¯ Ù‚ØªÙ„Øª 10 Ù…Ù† Ø§Ù„ØµÙ‡Ø§ÙŠÙ†Ø© Ø§Ù„Ø§Ø³Ø±Ø§Ø¦ÙŠÙ„ÙŠÙˆÙ†',
        'Ø§Ù†Øª Ø¨Ø·Ù„ ÙÙ„Ø³Ø·ÙŠÙ†ÙŠ ØªØ§Ø±ÙŠØ®ÙŠ Ù„Ù‚Ø¯ Ø§Ù†Ù‚Ø²Øª 100 ÙÙ„Ø³Ø·ÙŠÙ†ÙŠ Ù…Ù† Ø§Ù„Ù…ÙˆØª',
        'Ø£Ù†Øª ØªØ¯ÙŠØ± Ø´Ø±ÙƒØ© Ù„Ù„Ø·Ø¹Ø§Ù… Ø§Ù„ØµØ­ÙŠØŒ ÙˆØªØ­ÙˆÙ„ Ø§Ù„Ø·Ø¹Ø§Ù… Ø§Ù„ÙŠ Ø§Ù‡Ù„ ØºØ²Ø©',
        'Ø§Ù†Øª Ø¬Ø³ÙˆØ³ Ø¹Ù„ÙŠ Ø§Ù„ØµÙ‡ÙŠØ§Ù†Ø© Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„ØªØ¬Ø³Ø³ Ø¹Ù„ÙŠÙ‡Ù… Ù…Ù† Ø§Ø¬Ù„ ØºØ²Ø©',
        'Ø£Ù†Øª ØªØ¹Ù…Ù„ ÙƒØ¬Ù†Ø¯ÙŠ ÙÙŠ Ø­Ø±Ø¨ ØºØ²Ø©ØŒ ÙˆØªÙˆØ§Ø¬Ù‡ Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª Ø¨Ù…Ù‡Ø§Ø±Ø§ØªÙƒ ÙˆØ´Ø¬Ø§Ø¹ØªÙƒ',
        'Ø£Ù†Øª Ù…Ø­Ù‚Ù‚ Ø®ÙˆØ§Ø±Ù‚ØŒ ØªÙƒØªØ´Ù Ø§Ù„Ø£Ø³Ø±Ø§Ø± Ø§Ù„Ø®ÙÙŠØ© Ø§Ù„ØªÙŠ ÙŠØ®ÙÙŠÙ‡Ø§ Ø§Ù„ØµÙ‡Ø§ÙŠÙ†Ø©',
        'Ø£Ù†Øª ØªÙ‚ÙˆÙ… Ø¨ØªØ¯Ø±ÙŠØ¨ Ø§Ù‡Ù„ ØºØ²Ø© Ù„Ù…Ù‚Ø§ÙˆÙ…Ø© Ø§Ù„Ø¬Ù†ÙˆØ¯ Ø§Ù„Ø§Ø³Ø±Ø§Ø¦ÙŠÙ„ÙŠÙˆÙ†',
        'Ø³ØªØµØ¨Ø­ Ø£ÙØ¶Ù„ Ø­Ø¯Ø§Ø¯ ÙÙŠ ØºØ²Ø©ØŒ Ø­ÙŠØ« ØªØµÙ†Ø¹ Ø§Ù„Ø£Ø³Ù„Ø­Ø© Ø§Ù„Ù‚ÙˆÙŠØ© Ù„Ø£Ù‡Ù„ ØºØ²Ø© Ù„Ù…Ø­Ø§Ø±Ø¨Ø© Ø§Ù„Ø¬ÙŠØ´ Ø§Ù„Ø§Ø³Ø±Ø§Ø¦ÙŠÙ„ÙŠ',
        'Ø§Ù†Øª Ø·Ø¨ÙŠØ¨ Ø±Ø§Ø¦Ø¹ ÙÙŠ ØºØ²Ø© ÙˆØ´Ø¬Ø§Ø¹ Ù„ÙƒÙŠ ØªØ¹Ø§Ù„Ø¬ Ø§Ù‡Ù„ ØºØ²Ø© Ù…Ù† Ø¯ÙˆÙ† Ø®ÙˆÙ Ù…Ù† Ø§Ù„Ø¬ÙŠØ´ Ø§Ù„Ø§Ø³Ø±Ø§Ø¦ÙŠÙ„ÙŠ',
        'Ø§Ù†Øª Ù…Ø²Ø§Ø±Ø¹ Ø´Ø¬Ø§Ø¹ ÙÙŠ ØºØ²Ø© Ù„Ø£Ù†Ùƒ ØªØ·Ø¹Ù… Ø§Ù‡Ù„ ØºØ²Ø©',
        'Ø§Ù†Øª Ø§Ù„Ø§Ù† Ù…Ø¬Ù†Ø¯ ÙÙŠ ÙƒØªØ§Ø¦Ø¨ Ø§Ù„Ù‚Ø³Ø§Ù… ÙˆØ´Ø¬Ø§Ø¹ Ù„Ù„Ø¯Ø§ÙØ¹ Ø¹Ù† Ø§Ù‡Ù„ ØºØ²Ø© ÙˆÙÙ„Ø³Ø·ÙŠÙ†',
        'Ø§Ù†Øª Ø§Ù„Ø§Ù† Ù…Ø¬Ù†Ø¯ ÙÙŠ Ø­Ø²Ø¨ Ø§Ù„Ù„Ù‡ Ø§Ù„Ù„Ø¨Ù†Ø§Ù†ÙŠ ÙˆØ´Ø¬Ø§Ø¹ Ù„ÙƒÙŠ ØªØ­Ù…ÙŠ Ø§Ù‡Ù„ ØºØ²Ø© ÙˆÙÙ„Ø³Ø·ÙŠÙ† ÙƒØ§Ù…Ù„Ø©',
        'Ø§Ù†Øª ØªÙ‚ÙˆÙ… Ø¨ØªØ·ÙˆÙŠØ± Ø§Ù„Ø§Ø³Ù„Ø­Ø© Ù„ÙƒØªØ§Ø¦Ø¨ Ø§Ù„Ù‚Ø³Ø§Ù… ÙˆØ°Ù„Ùƒ Ø´Ø¬Ø§Ø¹Ø© Ù…Ù†Ùƒ',
        'Ø§Ù†Øª ÙÙ†Ø§Ù† Ø§Ø³Ø·ÙˆØ±ÙŠ Ø­ÙŠØ« ØªØ¨Ù‡Ø± Ø§Ù‡Ù„ ØºØ²Ø© Ù„ÙƒÙŠ ÙŠÙ†Ø³ÙˆØ§ Ù‡Ù…Ù‡Ù…',
        'Ø§Ù†Øª Ø´Ø¬Ø§Ø¹ Ù„Ø£Ù†Ùƒ Ø­Ù…ÙŠØ© Ø·ÙÙ„Ø§Ù‹ ÙÙ„Ø³Ø·ÙŠÙ†ÙŠØ§Ù‹ Ù…Ù† Ø§Ù„ØºØ§Ø±Ø§Øª Ø§Ù„Ø§Ø³Ø±Ø§Ø¦ÙŠÙ„ÙŠØ©',
        'Ø§Ù†Øª ØªØ¯ÙŠØ± Ù…Ø³ØªØ´ÙÙŠ ÙÙŠ ØºØ²Ø© Ù„Ø£Ù†Ùƒ Ø´Ø¬Ø§Ø¹',
        'Ø£Ù†Øª Ø¬Ø§Ø³ÙˆØ³ Ø¯ÙˆÙ„ÙŠØŒ ØªØªØ³Ù„Ù„ Ø¥Ù„Ù‰ Ø§Ù…Ø±ÙŠÙƒØ§ Ø§Ù„Ø¯Ø§Ø¹Ù…Ø© Ù„Ù„Ø¹Ø¯ÙˆØ§Ù† Ø§Ù„Ø§Ø³Ø±Ø§Ø¦ÙŠÙ„ÙŠ Ù„ÙƒÙŠ ØªØ¬Ù…Ø¹ Ù„ÙƒØªØ§Ø¦Ø¨ Ø§Ù„Ù‚Ø³Ø§Ù… Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù† Ø§Ù„Ø¹Ø¯ÙˆØ§Ù† Ø§Ù„Ø§Ø³Ø±Ø§Ø¦ÙŠÙ„ÙŠ',
        'Ø£Ù†Øª ØªØ³ØªÙƒØ´Ù Ø§Ù„ÙØ¶Ø§Ø¡ ÙˆØªÙ‚ÙˆÙ… Ø¨Ø§ÙƒØªØ´Ø§ÙØ§Øª Ù…Ø°Ù‡Ù„Ø© ØªÙ…Ù†Ø­Ùƒ Ø±Ø¤ÙŠØ© ÙØ±ÙŠØ¯Ø© Ù„Ù„ÙƒÙˆÙ†',
        'Ø§Ù†Øª Ø³Ø§Ø­Ø± Ø¹Ø¸ÙŠÙ… ÙˆØªØ¨Ù‡Ø¬ Ø§Ù„Ø´Ø¹Ø¨ Ø§Ù„ÙÙ„Ø³Ø·ÙŠÙ†ÙŠ Ù„ÙƒÙŠ ÙŠÙ†Ø³ÙˆØ§ Ù‡Ù…Ù‡Ù…',
        'Ø£Ù†Øª Ø¹Ø§Ù„Ù… Ù‚ÙˆÙŠØŒ ØªØ®Ù„Ù‚ Ø§Ø®ØªØ±Ø§Ø¹Ø§Øª Ø§Ø³Ù„Ø­Ø© Ù„ÙƒØªØ§Ø¦Ø¨ Ø§Ù„Ù‚Ø³Ø§Ù… ÙŠØ§ Ø´Ø¬Ø§Ø¹',
        'Ø£Ù†Øª ØªØ¯Ø§ÙØ¹ Ø¹Ù† Ø§Ù„Ø´Ø¹Ø¨ Ø§Ù„ÙÙ„Ø³Ø·ÙŠÙ†ÙŠ Ø¶Ø¯ Ø§Ù„Ø¬ÙŠØ´ Ø§Ù„Ø§Ø³Ø±Ø§Ø¦ÙŠÙ„ÙŠØŒ ÙˆØªÙ‚ÙˆØ¯ ÙƒØªØ§Ø¦Ø¨ Ø§Ù„Ù‚Ø³Ø§Ù… ÙˆØªØ¸Ù‡Ø± Ø´Ø¬Ø§Ø¹ØªÙƒ ÙÙŠ Ø§Ù„Ø­Ø±Ø¨',
        'Ø£Ù†Øª Ù…Ø­ØªØ±Ù ÙÙŠ ÙÙ† Ø§Ù„ØªØ®ÙÙŠØŒ ÙˆØ§Ù„ØªØ­Ø±Ùƒ ÙÙŠ Ø§Ù„Ø¸Ù„ ÙˆØªÙ†ÙÙŠØ° Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ø³Ø±ÙŠØ© Ù„ÙƒØªØ§Ø¦Ø¨ Ø§Ù„Ù‚Ø³Ø§Ù…',
        'Ø£Ù†Øª Ø·Ø§Ù‡Ù Ù…Ø´Ù‡ÙˆØ±ØŒ ÙˆØªÙ‚ÙˆÙ… Ø¨Ø¥Ø¹Ø¯Ø§Ø¯ Ø£Ø·Ø¨Ø§Ù‚ Ù„Ø°ÙŠØ°Ø© ØªÙØ³Ø¹Ø¯ Ø§Ù„Ø´Ø¹Ø¨ Ø§Ù„ÙÙ„Ø³Ø·ÙŠÙ†ÙŠ ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ø­ÙˆØ§Ù„Ù‡Ù…',
    ];

    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
    if (!global.db.data.users[m.sender]) {
        global.db.data.users[m.sender] = {};
    }
    
    if (!global.db.data.users[m.sender].lastPalestine) {
        global.db.data.users[m.sender].lastPalestine = 0;
    }
    
    if (!global.db.data.users[m.sender].doller) {
        global.db.data.users[m.sender].doller = 0;
    }

    const time = global.db.data.users[m.sender].lastPalestine + 600000;
    
    if (Date.now() - global.db.data.users[m.sender].lastPalestine < 600000) {
        const remainingTime = msToTime(time - Date.now());
        return m.reply(`âš”ï¸ *Ø§Ù†ØªØ¸Ø± Ù„Ø­Ø¸Ø© Ø£ÙŠÙ‡Ø§ Ø§Ù„Ù…Ø­Ø§Ø±Ø¨ Ø§Ù„Ù‚ÙˆÙŠ!* âš”ï¸\n\n*â€”â—‰ Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø±Ø¨ Ø¨Ø¹Ø¯ ${remainingTime} â³*`);
    }
    
    const hasil = Math.floor(Math.random() * 5000) + 1000;
    const achievement = pickRandom(PalestineAchievements);
    
    // ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
    global.db.data.users[m.sender].doller += hasil;
    global.db.data.users[m.sender].lastPalestine = Date.now();
    
    // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©
    await conn.sendMessage(m.chat, {
        text: `ðŸ‡µðŸ‡¸ *Ø§Ù†Ø¬Ø§Ø²Ø§ØªÙƒ ÙÙŠ Ù…Ø¹Ø±ÙƒØ© ØºØ²Ø©:*\n\nðŸ¹ ${achievement}\n\n*ðŸŽ–ï¸ Ø±ØµÙŠØ¯Ùƒ: ${hasil} Ø¯ÙˆÙ„Ø§Ø±*\n*ðŸ’° Ø±ØµÙŠØ¯Ùƒ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${global.db.data.users[m.sender].doller} Ø¯ÙˆÙ„Ø§Ø±*`
    }, {quoted: m});
};

handler.help = ['palestine'];
handler.tags = ['economy'];
handler.command = /^(ØºØ²Ø©|Ø­Ø±Ø¨|Ø§Ù„Ø¹Ø¯ÙˆØ§Ù†|ÙÙ„Ø³Ø·ÙŠÙ†)$/i;

export default handler;